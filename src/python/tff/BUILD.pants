import platform


use_gpu = platform.system() == "Linux"
third_party_tf = "3rdparty/python:tensorflow"
if use_gpu:
  third_party_tf += "-gpu"


python_binary(
  name = "tff",
  dependencies = [
    ":lib",
  ],
  source = "main.py",
)

python_tests(
  name = "test",
  dependencies = [
    ":lib",
  ],
)

python_library(
  name = "lib",
  dependencies = [
    third_party_tf,
    "3rdparty/python:numpy",
    "3rdparty/python:tensorflow-federated",
  ],
)
